Lirnexa - это приложение для преподователей и стдентов. В этом приложении преподователи могут создавать уроки, модули, курсы.
Полностю кастомизировать свое пространство под свой бренд.
Давать полный или частичный доступ к урокам, хранить все материалы (фото, видео, аудио, файлы и т.д.) в одном месте.
Вести учет абанементов и финансов.

## Роли ##

super_admin - владелец данного пространства, есть доступ ко всему пространству и ко всем функциям.
admin - роль который подчиняется роли super_admin, есть доступ ко всему пространству и ко всем функциям кроме персонализации пространства, есть доступ ко всем преподователям и студентам.
teacher - роль который подчиняется ролям admin и super_admin, ограниченый доступ к функционалу и пространству, есть доступ только к своим студентам.
student - потребитель контента созданный либо admin либо super_admin либо teacher закреплен за teacher если он его создал и за super_admin, ограничен доступ к функионалу и пространству за исключением редактирования личной информации.

## Авторизация ##

Данной приложение является закрытым и к приложению есть доступ только если студент есть в системе.
Должен быть запрос на логин с полями email, пароль, при успешной проверки возвращает id студента, роль студента, имя студента, токен и рефреш токен,
если в системе нет такого пользователя возвращаем ошибку с текстом "wrong_email_or_password".
В форме делаем проверку на валидность почты и длину пароля, не менее 6 символов, если есть ошибки по валидации
указываем ошибку красным цветом под полем ввода кнопка отправки формы не активна

Необходим запрос на рефреш токена если у токена истек срок годности, бекенд
возвращает 401 ошибку, когда фронт принял эту ошибку он отправляет запрос на рефреш токен, если срок годности у рефреш токена,
не истек возвращаем новый токен и новый рефреш токен, если срок годности рефреш токена истек, бекенд возвращает 404 ошибку
с текстом invalid_credentional и удаляем куки, также удаляем данные из localStorage, и перенаправляем на страницу логина

Токен и рефреш токен передаются через куки

После успешной авторизации сохраняем данные access_token, refresh_token в куки, id, role, name в store react-context и перенаправляем пользователя на страницу /main

Если пользователь не авторизован и пытается зайти на страницу /main, перенаправляем его на страницу /login

## Авторизованная зона ##

Все запросы к авторизованной зоне должны быть с токеном в куках

В автоматизированной зоне должны быть get запрос /me, пока нет ответа от этого запроса загружаем спиннер, если запрос прошел успешно загружаем данные о пользователе в store react-context и отображаем верстку

На всех страницах авторизованной зоны должен быть сайдбар

## Сайдбар ##

Сайдбар должен быть слева, иметь ширину 250px и высоту 100vh, который при клике на иконку сворачивается в 50px и разворачивается при клике на соответсвующую иконку. При развернутом состоянии сайдбар должен быть виден полностью внем должны быть иконки пунктов меню и иконка для разворачивания сайдбара, название пространства и логотип, при свернутом состоянии только логотип, иконки пунктов меню и иконка для разворачивания сайдбара.

В мобильной версии сайдбар должен быть ввиде хедера, который при клике на иконку бургера разворачивается и показывает все пункты меню, при клике на иконку крестика сворачивается или при свайпе вверх тоже сварачивается

Для разных ролей должны отображаться разные пункты меню

Для super_admin:
- Персонализация

## Персонализация ##

Раздел персонализация доступен только для super_admin
В этом разделе можно настроить внешний вид пространства, изменить название, загрузить логотип, изменить цветовую схему (primary_color, secondary_color, bg_color, bg_color_dark, is_white_sidebar_color, font_family), добавить мультиязычность, шрифты и смену светлой/темной темы.

На странице персонализации должны быть следующие поля:
- Название пространства (текстовое поле, обязательное поле)
- Логотип (загрузка файла, не обязательное поле) только для премуим пользователей
- Выбор главного цвета (primary_color) под этим полям находяться доступные цвета, дефолтное значение blue, для премум пользователей доступно больший выбор цветов а так же возможность настроить свой цвет
- Выбор второстепенного цвета (secondary_color) под этим полям находяться доступные цвета, дефолтное значение gray, для премум пользователей доступно больший выбор цветов а так же возможность настроить свой цвет
- Выбор цвета фона (bg_color) под этим полям находяться доступные цвета, дефолтное значение white, для премум пользователей доступно больший выбор цветов а так же возможность настроить свой цвет
- Выбор цвета фона в градиенте под этим полям находяться доступные цвета, дефолтное значение white, а так же возможность настроить свой градиент, доступно только для премум пользователей
- Свитч для изменения цвета в сайдбаре (is_white_sidebar_color) (свитч) цвета черный или белый, дефолтное значение белый
- Чекбокс темная тема (dark_theme) (чекбокс)
- Если чекбокс темная тема включен, то появляется поле выбор цвета фона в темной теме (bg_color_dark) под этим полям находяться доступные цвета, дефолтное значение dark, для премум пользователей доступно больший выбор цветов а так же возможность настроить свой цвет
- Выбор цвета фона в градиенте под этим полям находяться доступные цвета, дефолтное значение dark, а так же возможность настроить свой градиент, доступно только для премум пользователей
- Выбор шрифтов (font_family) доступно только для премум пользователей
- Выбор языка (language) (мультиселект с языками)
- Кнопка сохранить

Изменения полей персонализации должны применяться сразу после выбора значения в качестве превью. Если чекбокс темная тема включен, то в сайдбаре появляется переключение темы, которое позволяет переключаться между светлой и темной темой, если пользователь выбрал несколь языков в сайдбаре появляется переключение языков, которое позволяет переключаться между языками


## База пользователей ##

В этом разделе можно управлять пользователями, которые зарегистрированы в системе. Доступен только для super_admin, admin, teacher

В этом разделе можно добавлять, редактировать и удалять пользователей. Имеет вид таблицы, в которой отображаются пользователи, таблица имеет следующие поля:
- Чекбокс
- Действия (удалить, редактировать)
- Аватар + имя
- Роль
- К кому привязан этот студент

Вверху страницы должна быть кнопка добавить пользователя, при нажатии на нее справа открывается дровер, в котором можно добавить пользователя. В дровере должны быть следующие поля:
- Аватар (загрузка файла)
- Имя (обязательное поле)
- Email (обязательное поле)
- Пароль (обязательное поле) с кнопкой сгенерировать пароль
- Роль (обязательное поле)
- К кому привязан этот студент (селект с пользователями, которые имеют роль teacher) (дефолтное значения пользователь который создает этого студента) (обязательное поле)
- Кнопка сохранить

При нажатии на кнопку редактировать открывается дровер, в котором можно редактировать пользователя. В дровере должны быть следующие поля:
- Аватар (загрузка файла)
- Имя (обязательное поле)
- Email (обязательное поле)
- Пароль (обязательное поле) с кнопкой сгенерировать пароль
- Роль (обязательное поле)
- Кнопка сохранить

При нажатии на кнопку сгенерировать пароль, в поле пароль должен быть сгенерирован случайный пароль, который будет состоять из 8 символов, включающий в себя буквы разного регистра и цифры.

При нажатии на кнопку сохранить, пользователь должен быть добавлен в систему, если все поля заполнены корректно. Если есть ошибки, то они должны быть отображены под соответствующими полями, если в полях есть ошибки, то они должны быть подсвечены красным а кнопка сохранить должна быть неактивна, при отправке запроса кнопка сохранить должна быть заблокирована и отображаться спиннер загрузки.

При нажатии на кнопку редактировать, пользователь должен быть отредактирован в системе, если все поля заполнены корректно. Если есть ошибки, то они должны быть отображены под соответствующими полями, если в полях есть ошибки, то они должны быть подсвечены красным а кнопка сохранить должна быть неактивна, при отправке запроса кнопка сохранить должна быть заблокирована и отображаться спиннер загрузки.

При нажатии на кнопку удалить, появляется модальное окно с вопросом "Вы уверены, что хотите удалить этого пользователя?", при нажатии на кнопку "Да", после этого пользователь должен быть удален из системы, так же отобразиться уведомление об успехе, а таблица должна обновиться, при отправке запроса кнопка удалить должна быть заблокирована и отображаться спиннер загрузки.

После успешного добавления или редактирования пользователя, дровер должен закрыться, отобразиться уведомление об успехе, а таблица должна обновиться.

При нажатии на чекбокс, пользователь должен быть выделен, вверху страницы должна появиться кнопка удалить выделенных, при нажатии на нее появляется модальное окно с вопросом "Вы уверены, что хотите удалить этих пользователей?", при нажатии на кнопку "Да", после этого выделенные пользователи должны быть удалены из системы, так же отобразиться уведомление об успехе, а таблица должна обновиться, при отпрвке запроса кнопка удалить должна быть заблокирована и отображаться спиннер загрузки.

Внизу таблицы должна быть пагинация, которая позволяет переключаться между страницами, пагинация должна отображать количество страниц, текущую страницу и количество записей на странице, а также кнопки для переключения между страницами.

## Материалы ##

Раздел материалы доступен только для super_admin, admin, teacher
В этом разделе можно загружать материалы, которые будут использоваться в пространстве

В разделе материалы должны быть следующие подразделы:
- Аудио
- Изображения
- Видео
- Файлы
- Тесты
- Уроки

## Аудио ##

В этом разделе можно загружать аудио файлы, которые будут использоваться в пространстве. Имеет вид таблицы, в которой отображаются загруженные аудио файлы, таблица имеет следующие поля:
- Чекбокс
- Действия (удалить, редактировать)
- Название
- Файл (аудио файл, тег audio)
- Дата загрузки (дата загрузки файла, в формате dd.mm.yyyy)

Вверху страницы должна быть кнопка добавить аудио, при нажатии на нее справа открывается дровер, в котором можно загрузить аудио файлы. В дровере можно загрузить несколько файлов в превью отображаются загруженные файлы, название, инконка удалить, при нажатии на инконку удалить файл удаляется из превью и из списка загруженных файлов, при нажатии на файл его можно прослушать. При нажатии на кнопку отправить, необходимо показать прогрес бар для каждого аудиофайла, кнопка отправить становится неактивной, пока не будут загружены все файлы. После загрузки файлов они должны быть добавлены в таблицу так же необходимо показать уведомление об успехе или ошибке. Если произошла ошибка, то необходимо показать уведомление об ошибке и сообщением под полем.

В дровер можно добавить файлы перетаскиванием или через кнопку выбрать файлы. Максимальный размер одного файла 100 мб, максимальное количество файлов 10.

При нажатии на кнопку редактировать открывается дровер, в котором можно редактировать аудиофайл. Можно поменять название и аудиофайл. При нажатии на кнопку отправить, необходимо показать прогрес бар для аудиофайла, кнопка отправить становится неактивной, пока не будут загружены все файлы. После загрузки файлов они должны быть добавлены в таблицу так же необходимо показать уведомление об успехе или ошибке. Если произошла ошибка, то необходимо показать уведомление об ошибке и сообщением под полем.

При нажатии на кнопку удалить, появляется модальное окно с вопросом "Вы уверены, что хотите удалить этот аудиофайл?", при нажатии на кнопку "Да", после этого аудиофайл должен быть удален из системы, так же отобразиться уведомление об успехе, а таблица должна обновиться, при отправке запроса кнопка удалить должна быть заблокирована и отображаться спиннер загрузки.

При нажатии на чекбокс, аудиофайл должен быть выделен, вверху страницы должна появиться кнопка удалить выделенных и отредактировать выделенные, при нажатии на кнопку удалить выделенных появляется модальное окно с вопросом "Вы уверены, что хотите удалить этих аудиофайлов?", при нажатии на кнопку "Да", после этого выделенные аудиофайлы должны быть удалены из системы, так же отобразиться уведомление об успехе, а таблица должна обновиться, при отпрвке запроса кнопка удалить должна быть заблокирована и отображаться спиннер загрузки, при нажатии на кнопку отредактировать выделенные открывается дровер, в котором можно редактировать аудиофайлы. Можно поменять название и аудиофайл. При нажатии на кнопку отправить, необходимо показать прогрес бар для аудиофайла, кнопка отправить становится неактивной, пока не будут загружены все файлы. После загрузки файлов они должны быть добавлены в таблицу так же необходимо показать уведомление об успехе или ошибке. Если произошла ошибка, то необходимо показать уведомление об ошибке и сообщением под полем.

Добавить аудио можно и с помощб перетаскивание аудиофайлов в таблицу или если нет ауддиофайлов на заглушку, при перетаскивании файдиофайлов необходимо отобразить что есть возможность перетащить аудиофайлы, после дропа аудио открывается дровер с добавленными аудиофайлами, в котором можно редактировать название и аудиофайл. При нажатии на кнопку отправить, необходимо показать прогрес бар для аудиофайла, кнопка отправить становится неактивной, пока не будут загружены все файлы. После загрузки файлов они должны быть добавлены в таблицу так же необходимо показать уведомление об успехе или ошибке. Если произошла ошибка, то необходимо показать уведомление об ошибке и сообщением под полем.

Внизу страницы должна быть пагинация, которая позволяет переключаться между страницами, в зависимости от количества загруженных файлов и количество файлов на странице, должны быть кнопки следующая страница, предыдущая страница и промежуточные страницы в формате 1 2 3 ... 10, а так же выпадающий список, в котором можно выбрать количество файлов на странице (15, 30, 50)


